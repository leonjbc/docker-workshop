(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{249:function(e,r,t){"use strict";t.r(r);var n=t(28),a=Object(n.a)({},(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"link-container"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#link-container"}},[e._v("#")]),e._v(" Link Container")]),e._v(" "),t("p",[e._v("在練習此題之前，都專注在本機如何跟 container 互動。而練習此題之後，可以了解：")]),e._v(" "),t("ul",[t("li",[e._v("如何讓 container 之間互動")])]),e._v(" "),t("h2",{attrs:{id:"指令練習"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#指令練習"}},[e._v("#")]),e._v(" 指令練習")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 建立 network")]),e._v("\ndocker network create my-net\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 啟動 nginx")]),e._v("\ndocker container run -d --name my-web --network my-net -p "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("8080")]),e._v(":80 nginx:alpine\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 啟動並進入 busybox")]),e._v("\ndocker container run --rm -it --network my-net busybox\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 從 busybox 存取 nginx 的服務（使用 my-web 作為 hostname）")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" my-web -O -\n")])])]),t("p",[e._v("這個練習題目，也可以解決 "),t("RouterLink",{attrs:{to:"/docs/exercises/exercises-04-run-command.html"}},[e._v("Run Command")]),e._v(" 環境設定問題。這樣就能使用 hostname 來連到指定的 container 了。")],1),e._v(" "),t("p",[e._v("練習中會發現一個奇妙的事：使用瀏覽器在連接 Nginx 時，必須使用 8080 port，但進容器連結 Nginx，則得使用 80 port。這是虛擬機與 "),t("RouterLink",{attrs:{to:"/docs/exercises/exercises-03-port-forwarding.html"}},[e._v("Port Forwarding")]),e._v(" 的特性，必須要清楚了解，使用 Docker 或虛擬機才不會搞混目前要使用什麼連接埠。")],1),e._v(" "),t("h2",{attrs:{id:"指令說明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#指令說明"}},[e._v("#")]),e._v(" 指令說明")]),e._v(" "),t("h3",{attrs:{id:"docker-network"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-network"}},[e._v("#")]),e._v(" "),t("code",[e._v("docker network")])]),e._v(" "),t("p",[e._v("與網路相關的指令集")]),e._v(" "),t("h3",{attrs:{id:"docker-network-create"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-network-create"}},[e._v("#")]),e._v(" "),t("code",[e._v("docker network create")])]),e._v(" "),t("p",[e._v("建立網路設定，用法如下：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("docker network create [OPTIONS] NETWORK\n")])])]),t("p",[e._v("本範例並沒有帶任何參數，但需要了解的是下面這個：")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("-d|--driver")]),e._v(" 使用的 driver，預設 "),t("code",[e._v("bridge")]),e._v("，其他參數可以參考"),t("a",{attrs:{href:"https://docs.docker.com/network/#network-drivers",target:"_blank",rel:"noopener noreferrer"}},[e._v("官網"),t("OutboundLink")],1)])]),e._v(" "),t("h3",{attrs:{id:"docker-container-run"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-container-run"}},[e._v("#")]),e._v(" "),t("code",[e._v("docker container run")])]),e._v(" "),t("ul",[t("li",[t("code",[e._v("--network")]),e._v(" 指定網路設定")])]),e._v(" "),t("h2",{attrs:{id:"references"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#references"}},[e._v("#")]),e._v(" References")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://12factor.net/config",target:"_blank",rel:"noopener noreferrer"}},[e._v("The Twelve Factors - III. Config"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);r.default=a.exports}}]);